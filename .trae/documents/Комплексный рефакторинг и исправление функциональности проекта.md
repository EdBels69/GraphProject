## План комплексного рефакторинга проекта Graph Analyser

### Этап 1: Восстановление взаимодействия с пользователем

#### 1.1 Исправление UploadArticlesPage
- **Проблема**: Импорт `withRetry` не существует в retryHandler.ts
- **Решение**: 
  - Добавить экспорт функции `withRetry` в [src/utils/retryHandler.ts](file:///d:/Проекты/Проект%201/graph%20analyser/src/utils/retryHandler.ts)
  - Исправить импорт в [UploadArticlesPage.tsx](file:///d:/Проекты/Проект%201/graph%20analyser/src/pages/UploadArticlesPage.tsx#L2)

#### 1.2 Добавление валидации ввода
- Создать компоненты валидации форм
- Добавить проверку DOI, URL, PMID форматов
- Показывать понятные ошибки пользователю

#### 1.3 Восстановление функциональности кнопок
- Исправить неработающие кнопки в HomePage
- Добавить реальные обработчики событий
- Обеспечить интерактивность всех элементов управления

### Этап 2: Восстановление взаимодействия с внешней средой

#### 2.1 Исправление useApi hook
- **Проблема**: `refetch` - пустая функция
- **Решение**: Реализовать функцию повторной загрузки данных
- Добавить обработку сетевых ошибок
- Добавить таймауты запросов

#### 2.2 Реализация интеграции с реальными API
- Создать сервис для работы с внешними API (PubMed, Crossref, etc.)
- Добавить обработку CORS
- Реализовать кэширование запросов
- Добавить rate limiting

#### 2.3 Добавление механизмов повторных попыток
- Интегрировать `withRetry` в API запросы
- Настроить экспоненциальную задержку (exponential backoff)
- Добавить логирование попыток

### Этап 3: Архитектурные улучшения

#### 3.1 Внедрение Zustand store
- Создать глобальное состояние приложения
- Хранить состояние графов, статей, настроек
- Реализовать persistence (localStorage/sessionStorage)

#### 3.2 Создание централизованной обработки ошибок
- Создать компонент ErrorToast
- Интегрировать с sonner
- Добавить логирование ошибок в консоль
- Создать систему отчетности об ошибках

#### 3.3 Оптимизация структуры компонентов
- Выделить reusable компоненты (Button, Input, Card)
- Создать composables для графовой визуализации
- Оптимизировать рендеринг (React.memo, useMemo)

### Этап 4: Устранение mock-данных и реализация реального функционала

#### 4.1 HomePage
- Заменить mock-данные на реальные API вызовы
- Реализовать загрузку списка статей
- Добавить фильтрацию и поиск

#### 4.2 GraphVisualizationPage
- Интегрировать с GraphViewer компонентом
- Загружать реальные данные из API
- Реализовать сохранение изменений графа

#### 4.3 AnalysisPage, StatisticsPage, ResearchGapsPage
- Заменить mock-данные на API интеграцию
- Реализовать реальные алгоритмы анализа
- Добавить прогресс-бары для длительных операций

#### 4.4 ExportDataPage
- Реализовать реальный экспорт данных
- Поддерживать форматы JSON, CSV, XLSX, GEXF
- Добавить валидацию экспортируемых данных

### Этап 5: Тестирование

#### 5.1 Создание тестовой инфраструктуры
- Настроить vitest
- Создать тесты для компонентов
- Создать тесты для API routes
- Создать тесты для graph algorithms

#### 5.2 Интеграция тестов в CI/CD
- Добавить тестовый скрипт в package.json
- Настроить покрытие кода
- Добавить тесты в GitHub Actions

### Этап 6: Документация

#### 6.1 Создание README.md
- Описание проекта и его целей
- Инструкция по установке и запуску
- Список доступных функций
- API документация

#### 6.2 Добавление JSDoc комментариев
- Документировать все публичные функции
- Добавить примеры использования
- Описать параметры и возвращаемые значения

#### 6.3 Создание CONTRIBUTING.md
- Гайдлайн для контрибьюторов
- Стандарты кодирования
- Процесс разработки и тестирования

### Ожидаемые результаты:

✅ **Полностью функциональный проект** с:
- Работающей загрузкой статей
- Реальным анализом данных
- Функциональной визуализацией графов
- Экспортом данных в различных форматах
- Надежной обработкой ошибок
- Механизмами повторных попыток
- Покрытием тестами > 80%
- Полной документацией

⏱️ **Время выполнения**: ~4-6 часов

**Приоритеты:**
1. Критический: Восстановить базовую функциональность (upload, API)
2. Высокий: Устранить mock-данные и реализовать реальные алгоритмы
3. Средний: Добавить тестирование и документацию
4. Низкий: Оптимизация производительности и улучшение UX